<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="Parampool Tutorial">
<meta name="keywords" content="Matplotlib plotting,Bokeh plotting,mpld3 plotting,highcharts,subpool,data item">

<title>Parampool Tutorial</title>

<!-- Bootstrap style: bootstrap_bluegray -->
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_styles/style_bootstrap/css/bootstrap_bluegray.css" rel="stylesheet">
<!-- not necessary
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
-->

<style type="text/css">
/* Let inline verbatim have the same color as the surroundings */
code { color: inherit; background-color: transparent; }

/* Add scrollbar to dropdown menus in bootstrap navigation bar */
.dropdown-menu {
   height: auto;
   max-height: 400px;
   overflow-x: hidden;
}

/* Adds an invisible element before each target to offset for the navigation
   bar */
.anchor::before {
  content:"";
  display:block;
  height:50px;      /* fixed header height for style bootstrap_bluegray */
  margin:-50px 0 0; /* negative fixed header height */
}
</style>


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [('Table of contents',
               1,
               'table_of_contents',
               'table_of_contents'),
              ('Simulation program used as sample app', 1, None, '___sec0'),
              ('User interfaces for Python functions',
               1,
               'pp:GUI4functions',
               'pp:GUI4functions'),
              ('Real numbers as input and output',
               2,
               'pp:real:inout',
               'pp:real:inout'),
              ('Flask interface', 3, None, '___sec3'),
              ('Django interface', 3, None, '___sec4'),
              ('A plot as output', 2, 'pp:plot:output', 'pp:plot:output'),
              ('Flask application', 3, None, '___sec6'),
              ('Django application', 3, None, '___sec7'),
              ('Comparing graphs in the same plot', 3, None, '___sec8'),
              ('Bokeh plotting', 3, None, '___sec9'),
              ('mpld3 plotting', 3, None, '___sec10'),
              ('Pandas highcharts plotting', 3, None, '___sec11'),
              ('More input parameters and results',
               2,
               'pp:flask4',
               'pp:flask4'),
              ('The returned HTML code', 3, None, '___sec13'),
              ('Documentation of the application', 3, None, '___sec14'),
              ('Django interface', 3, None, '___sec15'),
              ('Other types of input data', 2, None, '___sec16'),
              ('Uploading a file', 3, None, '___sec17'),
              ('Working with a pool of input parameters',
               1,
               'pp:flask_pool1',
               'pp:flask_pool1'),
              ('Specifying a pool as a list',
               2,
               'pp:flask_pool1:list',
               'pp:flask_pool1:list'),
              ('Attributes in data items',
               2,
               'pp:flask_pool1:dataitem',
               'pp:flask_pool1:dataitem'),
              ('The compute function',
               2,
               'pp:flask_pool1:compute',
               'pp:flask_pool1:compute'),
              ('A command-line and file interface',
               2,
               'pp:flask_pool1:cml_file',
               'pp:flask_pool1:cml_file'),
              ('A web-based user interface',
               2,
               'pp:flask_pool1:GUI',
               'pp:flask_pool1:GUI'),
              ('Operating the graphical web interface',
               2,
               'pp:flask_pool1:GUI_op',
               'pp:flask_pool1:GUI_op'),
              ('Detection of wrong input',
               2,
               'pp:flask_pool1:GUI_error',
               'pp:flask_pool1:GUI_error'),
              ('Loading parameters from file and the command line',
               2,
               'pp:flask_pool1:GUI_cml_file',
               'pp:flask_pool1:GUI_cml_file'),
              ("Common trouble: ``Address already in use''",
               2,
               None,
               '___sec27'),
              ('Specifying a pool using an API', 2, None, '___sec28'),
              ('Specifying a pool using an alternative API',
               2,
               None,
               '___sec29'),
              ('File with documentation of the application',
               3,
               None,
               '___sec30'),
              ('LaTeX symbol as parameter name', 3, None, '___sec31'),
              ('Multiple input values for parameters', 3, None, '___sec32'),
              ('Login and archival of results', 2, None, '___sec33'),
              ('Problems with sending email', 3, None, '___sec34'),
              ('Python expressions as input', 2, None, '___sec35'),
              ('Exercises', 1, None, '___sec36'),
              ('Exercise 1: Make a web app for integration',
               2,
               'pp:exer:integrate',
               'pp:exer:integrate'),
              ('Exercise 2: Make a web app for plotting data',
               2,
               'pp:exer:plotdata',
               'pp:exer:plotdata'),
              ('Exercise 3: Make a web app for studying vibrations',
               2,
               None,
               '___sec39'),
              ('Problem 4: Make a coin flipper', 2, None, '___sec40'),
              ('Exercise 5: Make a web app for the Lorenz system',
               2,
               'pp:exer:lorenz',
               'pp:exer:lorenz'),
              ('Exercise 6: Customize an automatically generated web app',
               2,
               'pp:exer:custom1',
               'pp:exer:custom1'),
              ('Deployment', 1, None, '___sec43'),
              ('Wakari', 2, None, '___sec44'),
              ('Local server', 2, None, '___sec45'),
              ('Bibliography', 1, None, '___sec46'),
              ('Appendix: Installation of Parampool', 1, None, '___sec47')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



    
<!-- Bootstrap navigation bar -->
<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="pp.html">Parampool Tutorial</a>
  </div>

  <div class="navbar-collapse collapse navbar-responsive-collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
        <ul class="dropdown-menu">
     <!-- navigation toc: --> <li><a href="._pp001.html#table_of_contents" style="font-size: 80%;"><b>Table of contents</b></a></li>
     <!-- navigation toc: --> <li><a href="#___sec0" style="font-size: 80%;"><b>Simulation program used as sample app</b></a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#pp:GUI4functions" style="font-size: 80%;"><b>User interfaces for Python functions</b></a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#pp:real:inout" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Real numbers as input and output</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec3" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flask interface</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec4" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Django interface</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#pp:plot:output" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;A plot as output</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec6" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flask application</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec7" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Django application</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec8" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Comparing graphs in the same plot</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec9" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bokeh plotting</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec10" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mpld3 plotting</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec11" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pandas highcharts plotting</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#pp:flask4" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;More input parameters and results</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec13" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The returned HTML code</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec14" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Documentation of the application</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec15" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Django interface</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec16" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Other types of input data</a></li>
     <!-- navigation toc: --> <li><a href="._pp003.html#___sec17" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uploading a file</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#pp:flask_pool1" style="font-size: 80%;"><b>Working with a pool of input parameters</b></a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#pp:flask_pool1:list" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Specifying a pool as a list</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#pp:flask_pool1:dataitem" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Attributes in data items</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#pp:flask_pool1:compute" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;The compute function</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#pp:flask_pool1:cml_file" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;A command-line and file interface</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#pp:flask_pool1:GUI" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;A web-based user interface</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#pp:flask_pool1:GUI_op" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Operating the graphical web interface</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#pp:flask_pool1:GUI_error" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Detection of wrong input</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#pp:flask_pool1:GUI_cml_file" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Loading parameters from file and the command line</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#___sec27" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Common trouble: ``Address already in use''</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#___sec28" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Specifying a pool using an API</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#___sec29" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Specifying a pool using an alternative API</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#___sec30" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File with documentation of the application</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#___sec31" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LaTeX symbol as parameter name</a></li>
     <!-- navigation toc: --> <li><a href="._pp004.html#___sec32" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Multiple input values for parameters</a></li>
     <!-- navigation toc: --> <li><a href="._pp005.html#___sec33" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Login and archival of results</a></li>
     <!-- navigation toc: --> <li><a href="._pp005.html#___sec34" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Problems with sending email</a></li>
     <!-- navigation toc: --> <li><a href="._pp005.html#___sec35" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Python expressions as input</a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#___sec36" style="font-size: 80%;"><b>Exercises</b></a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#pp:exer:integrate" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 1: Make a web app for integration</a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#pp:exer:plotdata" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 2: Make a web app for plotting data</a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#___sec39" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 3: Make a web app for studying vibrations</a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#___sec40" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Problem 4: Make a coin flipper</a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#pp:exer:lorenz" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 5: Make a web app for the Lorenz system</a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#pp:exer:custom1" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 6: Customize an automatically generated web app</a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#___sec43" style="font-size: 80%;"><b>Deployment</b></a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#___sec44" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Wakari</a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#___sec45" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Local server</a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#___sec46" style="font-size: 80%;"><b>Bibliography</b></a></li>
     <!-- navigation toc: --> <li><a href="._pp006.html#___sec47" style="font-size: 80%;"><b>Appendix: Installation of Parampool</b></a></li>

        </ul>
      </li>
    </ul>
  </div>
</div>
</div> <!-- end of navigation bar -->

<div class="container">

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p> <!-- add vertical space -->

<a name="part0002"></a>
<!-- !split -->

<h1 id="___sec0" class="anchor">Simulation program used as sample app </h1>

<p>
We shall work with a sample application that takes a few variables as
input and produces numbers and/or graphs as result.  Specifically, our
application, later referred to as a <em>simulation program</em> or simply a
<em>simulator</em>, concerns the simulation of a ball thrown through air.
Given the initial velocity of the ball, and some other data like mass
and radius, we can compute the trajectory of the ball until it hits
the ground. The details of the calculations are not of interest here
as our focus is on software for assigning input data and for
displaying the results. However, the interested reader can consult the
box below for the inner workings of the simulation program.

<p>
<!-- The various features of Parampool will be introduced in a series -->
<!-- of examples where the complexity of input and the results ranges -->
<!-- from very simple to quite advanced. -->

<p>
<div class="alert alert-block alert-success alert-text-normal"><b>Mathematical model.</b>
The motion of the mass center \( \boldsymbol{r} \) of a body through a fluid is
given by
$$
\begin{equation}
m\frac{d^2\boldsymbol{r}}{dt^2} = -m\boldsymbol{g} - \frac{1}{2}C_D\varrho A v^2\boldsymbol{i}_t
+ \frac{1}{2}C_L\varrho A v^2\boldsymbol{i}_n + \frac{1}{2}C_S\varrho A v^2(\boldsymbol{i}_t
\times \boldsymbol{i}_n),
\tag{1}
\end{equation}
$$

where

<ul>
 <li> \( m \) is the mass of the body,</li>
 <li> \( \boldsymbol{g} \) is the acceleration of
   gravity vector,</li>
 <li> \( C_D \) is a drag coefficient,</li>
 <li> \( \varrho \) is the density of air,</li>
 <li> \( A \) is the cross-section area of the body perpendicular to the
   motion,</li>
 <li> \( \boldsymbol{v}=d\boldsymbol{r}/dt \) is the velocity of the body,</li>
 <li> \( \boldsymbol{w} \) is a given wind velocity,</li>
 <li> \( v = |\boldsymbol{v}-\boldsymbol{w}| \) is the relative velocity between the
   body and the wind,</li>
 <li> \( C_L \) is a lift coefficient,</li>
 <li> \( C_S \) is a coefficient for the sidewind or lateral aerodynamic force,</li>
 <li> \( \boldsymbol{i}_t \) is a unit tangent vector of the body's path, while</li>
 <li> \( \boldsymbol{i}_n \) is a unit vector normal to the path tilting upwards.</li>
</ul>

The drag \( C_D \) coefficient for a sphere is taken as 0.45. The lift
coefficient \( C_L \) depends on the spinrate \( \omega \) (rad
\( \hbox{s}^{-1} \)) of the body, and a simple linear relation often
suffices: \( C_L = 0.2\omega/500 \). A negative \( \omega \) gives a negative
lift.

<p>
We can simplify the model for a two-dimensional motion in an \( xy \)
plane with unit vectors \( \boldsymbol{i} \) and \( \boldsymbol{j} \) in the \( x \) and \( y \)
directions, respectively.  Then we skip the sidewind force
(\( C_S=0 \)). We also let gravity point downwards, \( \boldsymbol{g}=-g\boldsymbol{j} \), and
let the wind velocity be horizontal: \( \boldsymbol{w}=-w\boldsymbol{i} \). Furthermore,
we have that

$$
\begin{align}
\boldsymbol{i}_t &= \frac{\boldsymbol{v}}{\left|\boldsymbol{v}\right|} \equiv a\boldsymbol{i} + b\boldsymbol{j},
\quad \boldsymbol{v} = \frac{d\boldsymbol{r}}{dt},
\tag{2}\\ 
\boldsymbol{i}_n &= -b\boldsymbol{i} + a\boldsymbol{j}\hbox{ if }a>0\hbox{ else }b\boldsymbol{i}-a\boldsymbol{j}
\tag{3}
\end{align}
$$

The initial conditions associated with <a href="#mjx-eqn-1">(1)</a> express
that the body starts at the origin with an initial velocity \( v_0 \)
making an angle \( \theta \) with the horizontal. In the two-dimensional
case the conditions become

$$ \boldsymbol{r}(0) = 0\boldsymbol{i} + 0\boldsymbol{j},\quad \frac{d\boldsymbol{r}}{dt}(0)=\boldsymbol{v}(0)=
v_0\cos\theta\boldsymbol{i} + v_0\sin\theta\boldsymbol{j}.$$

<p>
</div>


<p>
<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pagination">
<li><a href="._pp001.html">&laquo;</a></li>
  <li><a href="._pp000.html">1</a></li>
  <li><a href="._pp001.html">2</a></li>
  <li class="active"><a href="._pp002.html">3</a></li>
  <li><a href="._pp003.html">4</a></li>
  <li><a href="._pp004.html">5</a></li>
  <li><a href="._pp005.html">6</a></li>
  <li><a href="._pp006.html">7</a></li>
  <li><a href="._pp003.html">&raquo;</a></li>
</ul>
<!-- ------------------- end of main content --------------- -->

</div>  <!-- end container -->
<!-- include javascript, jQuery *first* -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

<!-- Bootstrap footer
<footer>
<a href="http://..."><img width="250" align=right src="http://..."></a>
</footer>
-->


</body>
</html>
    

